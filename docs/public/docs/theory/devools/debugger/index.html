<!DOCTYPE html>
<html lang="ru-ru" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  как ловить ошибки
  #


  отладчик
  #

Звучит банально - но попробуйте)
Он позволяет:

смотреть на значения переменных во время исполнения программы
построчно исполнять программу
ставить breakpoint-ы на определенных строках -
это нужно чтоб доходить до проблемного места автоматически

Для начала привыкайте во время тестирования собиать программы с флагом -ggdb
gcc -ggdb main.c -o runmepls
Это включит в исполняемый файл runmepls отладочную информацию.
Без неё вам придется вглядываться в язык ассемблера, а это не так удобно.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://daniladanila.github.io/2024-caos-examples/docs/theory/devools/debugger/">
  <meta property="og:site_name" content="caos theory">
  <meta property="og:title" content="как ловить ошибки">
  <meta property="og:description" content=" как ловить ошибки # отладчик # Звучит банально - но попробуйте)
Он позволяет:
смотреть на значения переменных во время исполнения программы построчно исполнять программу ставить breakpoint-ы на определенных строках - это нужно чтоб доходить до проблемного места автоматически Для начала привыкайте во время тестирования собиать программы с флагом -ggdb
gcc -ggdb main.c -o runmepls Это включит в исполняемый файл runmepls отладочную информацию. Без неё вам придется вглядываться в язык ассемблера, а это не так удобно.">
  <meta property="og:locale" content="ru_ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>как ловить ошибки | caos theory</title>
<link rel="icon" href="/2024-caos-examples/favicon.png" >
<link rel="manifest" href="/2024-caos-examples/manifest.json">
<link rel="canonical" href="https://daniladanila.github.io/2024-caos-examples/docs/theory/devools/debugger/">
<link rel="stylesheet" href="/2024-caos-examples/book.min.3b63b9ecb24b01f1be0df5c6f361b3a2004ab96665227385e0196f67e7607b29.css" integrity="sha256-O2O57LJLAfG&#43;DfXG82GzogBKuWZlInOF4BlvZ&#43;dgeyk=" crossorigin="anonymous">
  <script defer src="/2024-caos-examples/fuse.min.js"></script>
  <script defer src="/2024-caos-examples/en.search.min.76946a08e2ff5ba1ae563c0a283125850bc3c67dc1b255948ac990283f16f842.js" integrity="sha256-dpRqCOL/W6GuVjwKKDElhQvDxn3BslWUismQKD8W&#43;EI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/2024-caos-examples/"><span>caos theory</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/" class="">Как закрыть курс</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/whoami/" class="">whoami</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/necronomicon/" class="">Некрономикон</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-96321df072730b9a64870c0191c9133b" class="toggle" checked />
    <label for="section-96321df072730b9a64870c0191c9133b" class="flex justify-between">
      <a href="/2024-caos-examples/docs/theory/devools/" class="">Инструменты разработки</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/devools/bash/" class="">bash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/devools/build/" class="">этапы сборки</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/devools/debugger/" class="active">как ловить ошибки</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/devools/make/" class="">автоматизация сборки</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-123d53d4dd188d20ee5174bebd51adc4" class="toggle"  />
    <label for="section-123d53d4dd188d20ee5174bebd51adc4" class="flex justify-between">
      <a href="/2024-caos-examples/docs/theory/x86_64/" class="">x86_64 assembler</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/x86_64/floats/" class="">floats</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2ac106c088cac53c4787d657cccdb647" class="toggle"  />
    <label for="section-2ac106c088cac53c4787d657cccdb647" class="flex justify-between">
      <a href="/2024-caos-examples/docs/theory/arm/" class="">ARM assembler</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/2024-caos-examples/docs/theory/arm/linaro/" class="">Linaro (а как тестить)</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/2024-caos-examples/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>как ловить ошибки</strong>

  <label for="toc-control">
    
    <img src="/2024-caos-examples/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#отладчик">отладчик</a>
      <ul>
        <li><a href="#qt-creator">Qt Creator</a></li>
        <li><a href="#gdb">gdb</a></li>
      </ul>
    </li>
    <li><a href="#а-если-я-не-знаю-где-ошибка">а если я не знаю где ошибка?</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="как-ловить-ошибки">
  как ловить ошибки
  <a class="anchor" href="#%d0%ba%d0%b0%d0%ba-%d0%bb%d0%be%d0%b2%d0%b8%d1%82%d1%8c-%d0%be%d1%88%d0%b8%d0%b1%d0%ba%d0%b8">#</a>
</h1>
<h2 id="отладчик">
  отладчик
  <a class="anchor" href="#%d0%be%d1%82%d0%bb%d0%b0%d0%b4%d1%87%d0%b8%d0%ba">#</a>
</h2>
<p>Звучит банально - но попробуйте)</p>
<p>Он позволяет:</p>
<ul>
<li>смотреть на значения переменных во время исполнения программы</li>
<li>построчно исполнять программу</li>
<li>ставить <code>breakpoint</code>-ы на определенных строках -
это нужно чтоб доходить до проблемного места автоматически</li>
</ul>
<p>Для начала привыкайте во время тестирования собиать программы с флагом <code>-ggdb</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gcc -ggdb main.c -o runmepls
</span></span></code></pre></div><p>Это включит в исполняемый файл <code>runmepls</code> отладочную информацию.
Без неё вам придется вглядываться в язык ассемблера, а это не так удобно.</p>
<h3 id="qt-creator">
  Qt Creator
  <a class="anchor" href="#qt-creator">#</a>
</h3>
<p>Понимаю, что не все любят терминал.
<del>Это ваш выбор, я не буду его осуждать, хоть он и не правильный</del>
Qt - это фреймворк для создания оконных приложений.
Qt Creator - IDE для него. Но Qt Creator можно установить и без фреймворка.</p>
<p>Qt Creator достаточно легковестный, а его графическая обертка вокруг
отладчика <code>gdb</code> простая и удобная.</p>
<p>Если не знаете, с чего начать - поробуйте его.</p>
<h3 id="gdb">
  gdb
  <a class="anchor" href="#gdb">#</a>
</h3>
<p>Вариант для хардкорных красноглазиков.</p>
<p>Собираете программу и запускаете отладчик</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gdb a.out
</span></span></code></pre></div><p>Чтоб глазам было поприятнее включаете отображение кода</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>gdb<span style="color:#f92672">)</span> layout src
</span></span></code></pre></div><p>и получаете вот такую красоту прямо в терминале</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>┌─main.c────────────────────────────────────────────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">1</span> <span style="color:#75715e">#include &lt;stdio.h&gt;                                                       │</span>
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">2</span>                                                                          │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">3</span>                                                                          │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">4</span> int main<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>                                                             │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">5</span>     int x <span style="color:#f92672">=</span> 123;                                                         │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">5</span>     int y <span style="color:#f92672">=</span> 456;                                                         │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">5</span>     printf<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;%d&#34;</span>, x + y<span style="color:#f92672">)</span>;                                                 │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">6</span> <span style="color:#f92672">}</span>                                                                        │
</span></span><span style="display:flex;"><span>│        <span style="color:#ae81ff">7</span>                                                                          │
</span></span><span style="display:flex;"><span>│                                                                                   │
</span></span><span style="display:flex;"><span>└───────────────────────────────────────────────────────────────────────────────────┘
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>gdb<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Чтоб поставить <code>breakpoint</code> - точку, на которой остановится выполнение - нужно ввести
команду <code>break</code> или сокращенно - <code>b</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>gdb<span style="color:#f92672">)</span> break main
</span></span></code></pre></div><p>После этого можно запустить программу вбив <code>run</code> или же <code>r</code></p>
<p>Теперь можно выводить значения переменных используя <code>print</code></p>
<p>И перемещаться используя <code>step</code> (<code>s</code>) и <code>next</code> (<code>n</code>)</p>
<p>Вот есть <a href="https://darkdust.net/files/GDB%20Cheat%20Sheet.pdf">брошюрка</a> с популярными командами</p>
<p>Начните тыкаться - и быстро привыкните</p>
<h2 id="а-если-я-не-знаю-где-ошибка">
  а если я не знаю где ошибка?
  <a class="anchor" href="#%d0%b0-%d0%b5%d1%81%d0%bb%d0%b8-%d1%8f-%d0%bd%d0%b5-%d0%b7%d0%bd%d0%b0%d1%8e-%d0%b3%d0%b4%d0%b5-%d0%be%d1%88%d0%b8%d0%b1%d0%ba%d0%b0">#</a>
</h2>
<p>Справедливо.
Проходить по шагам всю программу - немного жестоко)</p>
<p>При сборке можно включить дополнительные проверки в рантайме.
Такие &ldquo;штуки&rdquo; называют санитайзеры.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ cat main.c
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include &lt;stdlib.h&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>int main<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    int *buffer <span style="color:#f92672">=</span> malloc<span style="color:#f92672">(</span><span style="color:#ae81ff">20</span> * sizeof<span style="color:#f92672">(</span>int<span style="color:#f92672">))</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    buffer<span style="color:#f92672">[</span>7<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 123;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ gcc -fsanitize<span style="color:#f92672">=</span>address main.c
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ ./a.out
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>196147<span style="color:#f92672">==</span>ERROR: LeakSanitizer: detected memory leaks
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Direct leak of <span style="color:#ae81ff">80</span> byte<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> in <span style="color:#ae81ff">1</span> object<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> allocated from:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#0 0x7781c2efd891 in malloc /usr/src/debug/gcc/gcc/libsanitizer/asan/asan_malloc_linux.cpp:69</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#1 0x5db27deeb17a in main (/tmp/foo/a.out+0x117a) (BuildId: d0d4a2cf20f6bd1d9f1f1516816491c33dd0661a)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#2 0x7781c2c34e07  (/usr/lib/libc.so.6+0x25e07) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#3 0x7781c2c34ecb in __libc_start_main (/usr/lib/libc.so.6+0x25ecb) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#4 0x5db27deeb094 in _start (/tmp/foo/a.out+0x1094) (BuildId: d0d4a2cf20f6bd1d9f1f1516816491c33dd0661a)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUMMARY: AddressSanitizer: <span style="color:#ae81ff">80</span> byte<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> leaked in <span style="color:#ae81ff">1</span> allocation<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Окей, давайте добавим <code>free</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ cat main.c
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include &lt;stdlib.h&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>int main<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    int *buffer <span style="color:#f92672">=</span> malloc<span style="color:#f92672">(</span><span style="color:#ae81ff">20</span> * sizeof<span style="color:#f92672">(</span>int<span style="color:#f92672">))</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    free<span style="color:#f92672">(</span>buffer<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    buffer<span style="color:#f92672">[</span>7<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 123;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ gcc -fsanitize<span style="color:#f92672">=</span>address main.c
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>danila@archlinux /tmp/foo<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>$ ./a.out
</span></span><span style="display:flex;"><span><span style="color:#f92672">=================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>197542<span style="color:#f92672">==</span>ERROR: AddressSanitizer: heap-use-after-free on address 0x50700000003c at pc 0x5dbbd5db31da bp 0x7ffc6c2130d0 sp 0x7ffc6c2130c0
</span></span><span style="display:flex;"><span>WRITE of size <span style="color:#ae81ff">4</span> at 0x50700000003c thread T0
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#0 0x5dbbd5db31d9 in main (/tmp/foo/a.out+0x11d9) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#1 0x7b08df834e07  (/usr/lib/libc.so.6+0x25e07) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#2 0x7b08df834ecb in __libc_start_main (/usr/lib/libc.so.6+0x25ecb) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#3 0x5dbbd5db30a4 in _start (/tmp/foo/a.out+0x10a4) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>0x50700000003c is located <span style="color:#ae81ff">28</span> bytes inside of 80-byte region <span style="color:#f92672">[</span>0x507000000020,0x507000000070<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>freed by thread T0 here:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#0 0x7b08dfafc282 in free /usr/src/debug/gcc/gcc/libsanitizer/asan/asan_malloc_linux.cpp:52</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#1 0x5dbbd5db319a in main (/tmp/foo/a.out+0x119a) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#2 0x7b08df834e07  (/usr/lib/libc.so.6+0x25e07) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#3 0x7b08df834ecb in __libc_start_main (/usr/lib/libc.so.6+0x25ecb) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#4 0x5dbbd5db30a4 in _start (/tmp/foo/a.out+0x10a4) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>previously allocated by thread T0 here:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#0 0x7b08dfafd891 in malloc /usr/src/debug/gcc/gcc/libsanitizer/asan/asan_malloc_linux.cpp:69</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#1 0x5dbbd5db318a in main (/tmp/foo/a.out+0x118a) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#2 0x7b08df834e07  (/usr/lib/libc.so.6+0x25e07) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#3 0x7b08df834ecb in __libc_start_main (/usr/lib/libc.so.6+0x25ecb) (BuildId: 98b3d8e0b8c534c769cb871c438b4f8f3a8e4bf3)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#4 0x5dbbd5db30a4 in _start (/tmp/foo/a.out+0x10a4) (BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUMMARY: AddressSanitizer: heap-use-after-free <span style="color:#f92672">(</span>/tmp/foo/a.out+0x11d9<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>BuildId: c59a69d40605b369ee77c6dd1e547b78afc81ec4<span style="color:#f92672">)</span> in main
</span></span><span style="display:flex;"><span>Shadow bytes around the buggy address:
</span></span><span style="display:flex;"><span>  0x506ffffffd80: <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>  0x506ffffffe00: <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>  0x506ffffffe80: <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>  0x506fffffff00: <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>  0x506fffffff80: <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> <span style="color:#ae81ff">00</span> 00
</span></span><span style="display:flex;"><span><span style="color:#f92672">=</span>&gt;0x507000000000: fa fa fa fa fd fd fd<span style="color:#f92672">[</span>fd<span style="color:#f92672">]</span>fd fd fd fd fd fd fa fa
</span></span><span style="display:flex;"><span>  0x507000000080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
</span></span><span style="display:flex;"><span>  0x507000000100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
</span></span><span style="display:flex;"><span>  0x507000000180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
</span></span><span style="display:flex;"><span>  0x507000000200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
</span></span><span style="display:flex;"><span>  0x507000000280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
</span></span><span style="display:flex;"><span>Shadow byte legend <span style="color:#f92672">(</span>one shadow byte represents <span style="color:#ae81ff">8</span> application bytes<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>  Addressable:           <span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>  Partially addressable: <span style="color:#ae81ff">01</span> <span style="color:#ae81ff">02</span> <span style="color:#ae81ff">03</span> <span style="color:#ae81ff">04</span> <span style="color:#ae81ff">05</span> <span style="color:#ae81ff">06</span> <span style="color:#ae81ff">07</span>
</span></span><span style="display:flex;"><span>  Heap left redzone:       fa
</span></span><span style="display:flex;"><span>  Freed heap region:       fd
</span></span><span style="display:flex;"><span>  Stack left redzone:      f1
</span></span><span style="display:flex;"><span>  Stack mid redzone:       f2
</span></span><span style="display:flex;"><span>  Stack right redzone:     f3
</span></span><span style="display:flex;"><span>  Stack after <span style="color:#66d9ef">return</span>:      f5
</span></span><span style="display:flex;"><span>  Stack use after scope:   f8
</span></span><span style="display:flex;"><span>  Global redzone:          f9
</span></span><span style="display:flex;"><span>  Global init order:       f6
</span></span><span style="display:flex;"><span>  Poisoned by user:        f7
</span></span><span style="display:flex;"><span>  Container overflow:      fc
</span></span><span style="display:flex;"><span>  Array cookie:            ac
</span></span><span style="display:flex;"><span>  Intra object redzone:    bb
</span></span><span style="display:flex;"><span>  ASan internal:           fe
</span></span><span style="display:flex;"><span>  Left alloca redzone:     ca
</span></span><span style="display:flex;"><span>  Right alloca redzone:    cb
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>197542<span style="color:#f92672">==</span>ABORTING
</span></span></code></pre></div><p>Красиво? Ага)</p>
<p>Проверок довольно много. Каждая из них замедляет выполнение, но позволяет ловить
всякие непотребства.</p>
<p>Самые полезные для вас сейчас - <code>address</code>-санитайзер и <code>memory</code>-санитайзер.
Развлекайтесь - собирайте задачки, запускайте тесты и т.д.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#отладчик">отладчик</a>
      <ul>
        <li><a href="#qt-creator">Qt Creator</a></li>
        <li><a href="#gdb">gdb</a></li>
      </ul>
    </li>
    <li><a href="#а-если-я-не-знаю-где-ошибка">а если я не знаю где ошибка?</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












